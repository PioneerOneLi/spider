#coding=utf-8

import urllib2
from bs4 import BeautifulSoup
import os
import re



def download(url,name):
    if(url==None):
        pass
    result=urllib2.urlopen(url)
    #print result.getcode()
    if(result.getcode()!=200):
        pass
    else:
        data=result.read()
        with open(name, "wb") as code:
            code.write(data)
        code.close()

url="https://www.zhihu.com/question/36390957"
res=urllib2.urlopen(url)
respond=res.read()

count=0
soup=BeautifulSoup(respond)

lst=[]

for link in soup.find_all("img"):
    address=link.get('data-original')
    lst.append(address)

s=set(lst)
for address in s:
    if(address!=None):
        pathName="E:\\2333\\"+str(count+1)+".jpg"
        download(address,pathName)
        count=count+1
        print "正在下载第：",count


